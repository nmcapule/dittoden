syntax = "proto3";

package schema.v1;

import 'google/protobuf/timestamp.proto';
import 'schema/v1/tag.proto';

option go_package = "schema/v1";

message RelationshipType {
  // Unique identifier for the relationship type.
  string code = 1;

  // Description of the relationship type.
  string description = 2;

  // If the relationship type is bidirectional.
  bool is_bidirectional = 3;

  repeated Tag tags = 4;
}

// Represents a relationship between two entities.
message Relationship {
  // Unique identifier for the relationship.
  string code = 1;

  // Code for the relationship type.
  string type_ref = 2;

  // The two entities involved in the relationship. If the relationship is bidirectional, use
  // entity with lower UUID as entity_a.
  message Participant {
    string code = 1;
    string role = 2;
  }
  Participant a = 3;
  Participant z = 4;

  // Timestamp when the relationship started.
  google.protobuf.Timestamp started = 5;
  // Timestamp when the relationship ended.
  google.protobuf.Timestamp ended = 6;

  // Additional tags or metadata associated with the relationship.
  repeated Tag tags = 7;
}
