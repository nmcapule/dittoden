syntax = "proto3";

package dittoden.entity;

option go_package = "github.com/nmcapule/dittoden/entity";

import 'google/protobuf/timestamp.proto';

enum EntityType {
    TYPE_UNSPECIFIED = 0;
    TYPE_PERSON = 1;
    TYPE_ORGANIZATION = 2;
    TYPE_LOCATION = 3;
    TYPE_EVENT = 4;
}

// Represents a generic entity with various possible types and details.
message Entity {
    // Unique identifier for the entity.
    string uuid = 1;

    // Semi-human readable code for the entity.
    string code = 2;

    // Human-readable labels associated with the entity.
    message Label {
        string value = 1;

        enum LabelType {
            TYPE_UNSPECIFIED = 0;
            TYPE_PRIMARY = 1;
            TYPE_ALTERNATIVE = 2;
        }
        LabelType type = 2;
    }
    repeated Label labels = 3;

    // Type of the entity.
    EntityType type = 4;

    // Entity-type specific details.
    oneof details {
        message PersonDetails {
            string first_name = 1;
            string last_name = 2;
            google.protobuf.Timestamp birth_date = 3;
        }
        PersonDetails person = 5;

        message OrganizationDetails {
            string registration_number = 1;
            google.protobuf.Timestamp created = 2;
        }
        OrganizationDetails organization = 6;

        message LocationDetails {
            string latitude = 1;
            string longitude = 2;
        }
        LocationDetails location = 7;

        message EventDetails {
            string event_date = 1;
            string location = 2;
        }
        EventDetails event = 8;
    }
}